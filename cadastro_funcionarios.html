<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="cadastro_funcionarios.css">
    <title>Cadastro Funcionarios</title>
</head>
<body>
    <div class= "content">
      <h1>Cadastro de FuncionÃ¡rios ðŸ”¥ </h1>
      <form id ="form">
        <div>
            <input type="text" placeholder="Digite seu nome" class="inputs required" oninput="nameValidate()">
            <span class="span-required">Nome deve ter no minimo 3 caracteres</span>
        </div>
        <div>
            <input type = "email" placeholder="Digite seu e-mail" class = "inputs required" oninput="emailValidate()">
            <span class ="span-required">Digite um e-mail valido</span>
        </div>
        <div>
            <input type = "password" placeholder="Digite sua senha" class = "inputs required" oninput="mainPasswordValidate()">
            <span class ="span-required">Sua senha  deve ter no minimo 8 caracteres</span>
        </div>
        <div>
            <input type = "password" placeholder="Repita a sua senha" class = "inputs required" oninput="compararPassword()">
            <span class ="span-required">Senhas devem ser compativeis</span>
        </div>
        <textarea class="inputs" name="descricao" id="descricao" cols="25" rows="10" placeholder="Fale um pouco sobre suas experiÃªncias profissionais..."></textarea>
        <p>Sexo:</p>
        <div class="box-select">
          <div>
            <input type="radio" id="m" value="m" name="sexo">
            <label for="m">Masculino</label>
          </div>
          <div>
            <input type="radio" id="f" value="f" name="sexo">
            <label for="f">Feminino</label>
          </div>
          <div>
            <input type="radio" id="o" value="o" name="sexo">
            <label for="o">Outro</label>
          </div>
          

        </div> 
        <button type="submit">Enviar</button>
       
      </form>

    </div>
</body>
<script>
  const form = document.getElementById('form');
  const campos = document.querySelectorAll('.required');
  const spans = document.querySelectorAll('.span-required');
  const emailRegex = /^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/;

  form.addEventListener('submit', (event) => {
    event.preventDefault();
    nameValidate();
    emailValidate();
    mainPasswordValidate();
    compararPassword();
    campos[0].value ="";
    campos[1].value ="";
    campos[2].value ="";
    campos[3].value ="";
    campos[4].value ="";
    
    

  });

  function setError(cadastro_funcionarios){
    campos[cadastro_funcionarios].style.border ='2px solid #e63636';
    spans[cadastro_funcionarios].style.display ='block';
  }

  function removeError(cadastro_funcionarios){
    campos[cadastro_funcionarios].style.border ='';
    spans[cadastro_funcionarios].style.display ='none';
  }

  function nameValidate(){
    if(campos[0].value.length < 3)
    {
      setError(0);
    }
    else
    {
      removeError(0);
    }
  }

  function emailValidate(){
    if(!emailRegex.test(campos[1].value))
    {
      setError(1);

    }
    else
    {
      removeError(1);

    }
  }

  function mainPasswordValidate(){
    if (campos[2].value.length < 8)
    {
      setError(2);
    }
    else
    {
      removeError(2);
      compararPassword();
    }


  }

  function compararPassword(){
    if (campos[2].value == campos[3].value && campos[3].value.length >= 8)
    {
      removeError(3);
    }
    else
    {
      setError(3);
    }
  }

  

</script>  
</html>